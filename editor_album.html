<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bad+Script&family=Diphylleia&family=Edu+VIC+WA+NT+Beginner&family=Gudea&family=Handlee&family=Patrick+Hand&family=Poiret+One&family=Tenor+Sans&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Icons -->
    <link rel="stylesheet" href="style.css">
    <script src="./tinymce/tinymce.min.js" referrerpolicy="origin"></script>
    
    <title>Site Nova Vida</title>
    
  </head>
  <body style="background-color: rgb(236, 234, 234);border: 0px solid orange">
    <header id="header">
      
    </header>
    <div id="ajusteHeader" style="height: 70px;"></div>
    <main class="mainPerfil" style="height: fit-content; border: 0px solid orange">
    

      <div class="flexJustfyStart" style="border: px solid red; height: 100%">

        <aside class="asidePerfis" style="background-color: rgb(2, 2, 36); height: auto; width: 250px; border: 0px solid cyan">
            
        </aside>
        <section class="sectionEditorAlbum" style="border: 0px solid red; width: 100%;">
           <!--  <h1 style="margin-top: 40px;">Álbum do Bebê</h1> -->
           <div style="" id="mostrarImagemEscolhida">
          
           </div>
           <form style="width: 650px; margin: 0px auto;" action="" method="post" enctype="multipart/form-data">
             <div id="inputImagem" style="display: flex; flex-direction: column;padding: 0px 0px 20px 0px ;">
               <label style="font-size: 20px; margin-bottom: 20px;" for="fotoAlbum">Insira uma foto</label>
               <input onchange="mostrarImagem()" style="background-color: #fff; border: 2px solid; border-radius: 5px;" type="file" name="fotoAlbum" id="fotoAlbum" accept="image/jpeg, image/png">
             </div>
             <div style="display: flex; flex-direction: column;padding: 0px 0px 30px 0px ;"> 
               <label style="font-size: 20px; margin-bottom: 20px;" for="fotoAlbum">Insira um texto para seu post</label>
               <textarea name="textoAlbum" id="textoAlbum"></textarea>
             </div>
             <div class="moldExtButtonEditor" style="">
               <a href="./album_bebe.html">
                 <button class="button" style="" type="button">Salvar</button>
               </a>
             </div>
           </form>
        </section>
    </div>

      <!-- <section id="sectionEditorAlbum" style=" border: 2px solid red">
        <div style="" id="mostrarImagemEscolhida">
          
        </div>
        <form style="width: 650px; margin: 0px auto;" action="" method="post" enctype="multipart/form-data">
          <div id="inputImagem" style="display: flex; flex-direction: column;padding: 0px 0px 30px 0px ;">
            <label style="font-size: 20px; margin-bottom: 20px;" for="fotoAlbum">Insira uma foto</label>
            <input onchange="mostrarImagem()" style="background-color: #fff;" type="file" name="fotoAlbum" id="fotoAlbum" accept="image/jpeg, image/png">
          </div>
          <div style="display: flex; flex-direction: column;padding: 0px 0px 30px 0px ;"> 
            <label style="font-size: 20px; margin-bottom: 20px;" for="fotoAlbum">Insira um texto para seu post</label>
            <textarea name="textoAlbum" id="textoAlbum"></textarea>
          </div>
          <div class="moldExtButtonEditor" style="">
            <a href="./editor_album.html">
              <button class="button" style="" type="button">Salvar</button>
            </a>
          </div>
        </form>
      </section> -->
      <img src="" alt="">
    </main>
  </body>
  <script src="./script.js" defer></script>
  <script>
    let textoSalvo = ''; // Variável para armazenar o texto do textarea.

    function mostrarImagem() {
        //Captura o input com o id 'fotoAlbum'.
        let imagemUpload = document.querySelector('#fotoAlbum');
        //Captura a div com o id 'mostrarImagemEscolhida'
        let mostrarImagemEscolhida = document.querySelector('#mostrarImagemEscolhida');
        // Armazena o texto do textarea.
        textoSalvo = document.querySelector('#textoAlbum').value;
        //Cria um elemento div.
        let areaFoto = document.createElement('div');
        //Adiciona uma class "teste" ao elemento div criado acima.
        areaFoto.classList.add('teste');
        //Adiciona um HTML ao emento 'areaFoto'.
        areaFoto.innerHTML = `
            <section id="sectionConteudoAlbum" style="">
                <div class="moldExtImgAlbum">
                    <div class="moldMedImgAlbum"> 
                        <div class="cantoneiraSuperior"></div>
                        <div class="cantoneiraInferior"></div>
                        <div class="moldIntImgAlbum">
                            <img src="./img/${imagemUpload.files[0].name}" alt="">
                        </div>
                    </div>
                </div>
                
                <div class="moldExtButtonAlbum">
                    <button onclick="buscarImagem()" class="button" type="button">Alterar Imagem</button>
                </div>
            </section>
        `;
        //Adiciona o elemento com todas as alterações a div com o id 'mostrarImagemEscolhida'.
        mostrarImagemEscolhida.appendChild(areaFoto);
        //Captura a div com o id 'inputImagem'.
        let inputImagem = document.querySelector('#inputImagem');
        //Aplica um estilo "display = 'none'" ao elemento 'inputImagem'.
        inputImagem.style.display = 'none';
        //Limpa o valor do imput file, para que se precisar escolher outra imagem o onchange chame a função "mostrarImagem()". 
        imagemUpload.value = '';
    }

    function buscarImagem() {
        // Restaurar o texto do textarea
        document.querySelector('#textoAlbum').value = textoSalvo;
        //Captura a div com o id 'mostrarImagemEscolhida'
        let mostrarImagemEscolhida = document.querySelector('#mostrarImagemEscolhida');
        //Exclui o elemento com todas as alterações a div com o id 'mostrarImagemEscolhida'.
        mostrarImagemEscolhida.innerHTML = '';
        //Captura a div com o id 'inputImagem'.
        let inputImagem = document.querySelector('#inputImagem');
        //Aplica um estilo "display = 'flex'" ao elemento 'inputImagem', para mostrar o "input" file novamente.
        inputImagem.style.display = 'flex';
    }


    tinymce.init({
      selector: '#textoAlbum',
      plugins: [
          'advlist', 'autolink', 'link', 'image', 'lists', 'charmap', 'preview', 'anchor', 'pagebreak',
          'searchreplace', 'wordcount', 'visualblocks', 'visualchars', 'code', 'fullscreen', 'insertdatetime',
          'media', 'table', 'emoticons', 'template', 'help'
      ],
       toolbar: ' undo redo | styles | bold italic | alignleft aligncenter alignright alignjustify | outdent indent',
       language: 'pt_BR'
    });
  </script>
</html>